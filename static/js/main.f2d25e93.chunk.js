(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(e,c,t){},52:function(e,c,t){},53:function(e,c){function t(e){var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=53},96:function(e,c,t){"use strict";t.r(c);var n=t(0),a=t.n(n),r=t(42),i=t.n(r),o=(t(51),t(52),t(45)),s=t(2),l=t(15),j=t(43),d=t.n(j),u=t(44),b=t.n(u),f=(t(57),t(1)),O=function(){var e=Object(n.useState)(""),c=Object(l.a)(e,2),t=c[0],a=c[1],r=Object(n.useState)(!0),i=Object(l.a)(r,2),o=i[0],s=i[1],j=Object(n.useState)(!0),u=Object(l.a)(j,2),O=u[0],p=u[1],x=Object(n.useState)(""),h=Object(l.a)(x,2),v=h[0],y=h[1],g=Object(n.useRef)(null),m=Object(n.useRef)(null),k=Object(n.useState)(""),C=Object(l.a)(k,2),E=C[0],S=C[1],w=new d.a({config:{iceServers:[{urls:"stun:openrelay.metered.ca:80"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443?transport=tcp",username:"openrelayproject",credential:"openrelayproject"}]}});Object(n.useEffect)((function(){w.on("open",(function(e){S(e)})),w.on("call",(function(e){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(c){var t=m.current;t.srcObject=c,t.play(),a(c),e.answer(c),e.on("stream",(function(e){var c=g.current;c.srcObject=e,c.play()}))})).catch((function(e){console.log(e)}))}))}),[]);return Object(f.jsxs)("div",{children:[Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsxs)("center",{children:[Object(f.jsx)("div",{id:"copy",children:Object(f.jsx)(b.a,{text:E,onCopy:function(){return alert("copied")},children:Object(f.jsxs)("span",{children:[" ",E," \xa0\xa0",Object(f.jsx)("i",{class:"fa fa-clone"})," "]})})}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{id:"in",type:"text",placeholder:"dial friend's id",onChange:function(e){return y(e.target.value)}}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("video",{id:"video-out",ref:m,muted:!0}),Object(f.jsx)("br",{}),Object(f.jsx)("video",{id:"video",ref:g}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{id:"fixed",children:[Object(f.jsx)("span",{id:"i-2",children:O?Object(f.jsx)("i",{class:"fa fa-video-camera",id:"call",onClick:function(){t.getVideoTracks().forEach((function(e){e.enabled=!1})),p(!1)}}):Object(f.jsx)("i",{class:"fa fa-video-camera fa-2x",id:"call",onClick:function(){t.getVideoTracks().forEach((function(e){e.enabled=!0})),p(!0)}})}),Object(f.jsx)("span",{id:"i-2",children:o?Object(f.jsx)("i",{class:"fa fa-microphone",id:"call",onClick:function(){t.getAudioTracks().forEach((function(e){e.enabled=!1})),s(!1)}}):Object(f.jsx)("i",{class:"fa fa-microphone-slash",id:"call",onClick:function(){t.getAudioTracks().forEach((function(e){e.enabled=!0})),s(!0)}})}),Object(f.jsxs)("span",{id:"i-3",children:[Object(f.jsx)("i",{class:"fa fa-arrow-up",id:"call",onClick:function(){navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}).then((function(e){a(e);var c=m.current;c.srcObject=e,c.play(),w.call(v,e).on("stream",(function(e){var c=g.current;c.srcObject=e,c.play()}))})).catch((function(e){console.log(e)}))}})," "]}),Object(f.jsx)("span",{id:"i-1",children:Object(f.jsx)("i",{id:"call",class:"fa fa-phone",onClick:function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){a(e);var c=m.current;c.srcObject=e,c.play(),w.call(v,e).on("stream",(function(e){var c=g.current;c.srcObject=e,c.play()}))})).catch((function(e){console.log(e)}))}})})]})]})]})},p=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("nav",{id:"header",children:"\xa0\xa0\xa0crypto-call "}),Object(f.jsx)(o.a,{children:Object(f.jsx)(s.a,{exact:!0,path:"/",component:O})})]})},x=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,97)).then((function(c){var t=c.getCLS,n=c.getFID,a=c.getFCP,r=c.getLCP,i=c.getTTFB;t(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(p,{})}),document.getElementById("root")),x()}},[[96,1,2]]]);
//# sourceMappingURL=main.f2d25e93.chunk.js.map